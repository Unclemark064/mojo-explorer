// Blog posts data (same as original)
const blogPosts = {
  1: {
    category: "Visa Tips",
    title: "Essential Visa Processing Updates You Need to Know in 2025",
    date: "September 07, 2025",
    readTime: "5 min read",
    image:
      "https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&q=80",
    content: `
                    <p>Navigating the world of visa processing can be complex, especially with the constant changes in requirements and procedures. As we progress through 2025, several significant updates have emerged that could impact your travel plans and visa applications.</p>

                    <h2>Key Changes in Visa Processing Times</h2>
                    <p>One of the most significant changes we've observed is the variation in processing times across different countries. While some nations have streamlined their processes, others have extended their review periods due to increased security measures and higher application volumes.</p>

                    <div class="highlight-box">
                        <h4>ðŸ’¡ Quick Tip</h4>
                        <p>Always check the latest processing times on official embassy websites before submitting your application. Processing times can vary significantly based on your nationality and the type of visa you're applying for.</p>
                    </div>

                    <h3>Popular Destinations and Their Current Processing Times</h3>
                    <ul>
                        <li><strong>Canada:</strong> Study visas now taking 4-6 weeks (down from 8-12 weeks)</li>
                        <li><strong>United Kingdom:</strong> Tourist visas processed within 3 weeks</li>
                        <li><strong>United States:</strong> Interview wait times vary by location (2-12 weeks)</li>
                        <li><strong>Australia:</strong> Student visas taking 6-8 weeks on average</li>
                    </ul>

                    <h2>New Biometric Requirements</h2>
                    <p>Several countries have expanded their biometric data collection requirements. This includes fingerprints, facial recognition, and in some cases, iris scans. The good news is that many biometric application centers have opened in major cities worldwide, making the process more accessible.</p>

                    <blockquote>
                        "The biometric requirement has actually made the process more secure and efficient. Once you've provided your biometrics, subsequent applications to the same country are often faster." - Sarah Johnson, Immigration Consultant
                    </blockquote>

                    <h2>Digital-First Approach</h2>
                    <p>Many embassies and consulates have adopted a digital-first approach to visa applications. This means:</p>
                    <ul>
                        <li>Online application forms with better user interfaces</li>
                        <li>Digital document submission options</li>
                        <li>Real-time application tracking</li>
                        <li>Electronic visa issuance for certain visa types</li>
                    </ul>

                    <h2>What This Means for You</h2>
                    <p>These changes present both opportunities and challenges. While digital processes can be more efficient, they also require applicants to be more tech-savvy and organized with their documentation.</p>

                    <p>At Mojo Explorer, we stay ahead of these changes to ensure our clients have the most current information and support throughout their visa application process. Our team regularly updates our knowledge base and maintains relationships with embassy officials to provide you with accurate, timely guidance.</p>

                    <div class="highlight-box">
                        <h4>ðŸŽ¯ Action Steps</h4>
                        <p>Ready to start your visa application? Contact Mojo Explorer today for a free consultation. We'll assess your specific situation and provide personalized guidance based on the latest requirements and processing times.</p>
                    </div>
                `,
  },
  2: {
    category: "Destination Guides",
    title: "Top 10 Study Abroad Destinations for 2025",
    date: "August 28, 2025",
    readTime: "8 min read",
    image:
      "https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?w=800&q=80",
    content: `
                    <p>Choosing where to study abroad is one of the most important decisions you'll make in your academic journey. With new opportunities emerging and existing destinations evolving their offerings, 2025 presents exciting possibilities for international students.</p>

                    <h2>The Traditional Powerhouses</h2>
                    <p>Some destinations have maintained their appeal year after year, and for good reason. These countries offer world-class education, diverse cultures, and excellent post-graduation opportunities.</p>

                    <h3>1. United States</h3>
                    <p>Home to many of the world's top universities, the US continues to attract students globally. With recent policy changes making it easier for STEM graduates to stay and work, it remains a top choice.</p>
                    <ul>
                        <li>Over 4,000 accredited institutions</li>
                        <li>Strong job market for graduates</li>
                        <li>Diverse cultural experiences</li>
                        <li>Research opportunities across all fields</li>
                    </ul>

                    <h3>2. United Kingdom</h3>
                    <p>The UK's rich academic heritage and shorter degree programs make it attractive to international students. The post-study work visa allows graduates to stay for up to two years.</p>

                    <h3>3. Canada</h3>
                    <p>Known for its welcoming immigration policies and high quality of life, Canada has become increasingly popular. The pathway to permanent residency is clearer than in many other countries.</p>

                    <h2>Rising Stars in 2025</h2>
                    <p>These destinations are gaining momentum and offering unique advantages to international students.</p>

                    <h3>4. Germany</h3>
                    <p>With many programs taught in English and relatively low tuition fees, Germany is attracting students from around the world. The strong economy provides excellent job prospects.</p>

                    <div class="highlight-box">
                        <h4>ðŸŒŸ Spotlight: Germany's Advantages</h4>
                        <ul>
                            <li>Many public universities charge no tuition fees</li>
                            <li>Strong engineering and technology programs</li>
                            <li>18-month post-study work visa</li>
                            <li>Central location in Europe</li>
                        </ul>
                    </div>

                    <p>Continue reading for more destinations and practical advice on making your choice...</p>
                `,
  },
  3: {
    category: "Success Stories",
    title: "From Lagos to London: Sarah's Journey to Her Dream University",
    date: "August 15, 2025",
    readTime: "6 min read",
    image:
      "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&q=80",
    content: `
                    <p>When Sarah Adebayo first dreamed of studying computer science at Imperial College London, it seemed like an impossible goal. Today, she's in her final year, interning at a top tech company, and preparing for her graduation. Her journey wasn't easy, but with determination and the right support, she made it happen.</p>

                    <h2>The Beginning of a Dream</h2>
                    <p>Sarah's interest in technology began early. Growing up in Lagos, she taught herself to code and participated in local hackathons. "I knew I wanted to study abroad, but the process seemed overwhelming," she recalls.</p>

                    <blockquote>
                        "I remember spending hours online, trying to understand university rankings, visa requirements, and application deadlines. It was confusing and stressful." - Sarah Adebayo
                    </blockquote>

                    <h2>The First Challenge: University Applications</h2>
                    <p>Sarah's first hurdle was navigating the UCAS (Universities and Colleges Admissions Service) system. With no family members who had studied abroad, she had to figure everything out on her own.</p>

                    <h3>Key Challenges She Faced:</h3>
                    <ul>
                        <li>Understanding UK university requirements</li>
                        <li>Writing a compelling personal statement</li>
                        <li>Meeting English language requirements</li>
                        <li>Securing funding for her studies</li>
                        <li>Navigating the visa application process</li>
                    </ul>

                    <div class="highlight-box">
                        <h4>ðŸ’¡ Sarah's Tip</h4>
                        <p>"Start your applications early. I began the process 18 months before my intended start date. This gave me time to improve my English test scores and secure funding."</p>
                    </div>

                    <p>Read on to discover how Sarah overcame these challenges and achieved her dream...</p>
                `,
  },
  4: {
    category: "Travel Hacks",
    title:
      "10 Money-Saving Travel Hacks Every International Student Should Know",
    date: "July 30, 2025",
    readTime: "7 min read",
    image:
      "https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&q=80",
    content: `
                    <p>Studying abroad is expensive enough without overspending on travel, accommodation, and daily expenses. As an international student, every dollar (or pound, or euro) counts. Here are proven strategies to help you stretch your budget further while still enjoying your international experience.</p>

                    <h2>Flight Booking Strategies</h2>
                    <p>Your journey begins with getting there, and flights can be one of your biggest expenses. But with the right approach, you can save hundreds or even thousands.</p>

                    <h3>1. Master the Art of Flexible Date Searching</h3>
                    <p>Flight prices can vary dramatically depending on your departure and return dates. Use tools like Google Flights, Skyscanner, and Momondo that allow you to view prices across entire months.</p>

                    <div class="highlight-box">
                        <h4>ðŸ’¡ Pro Tip</h4>
                        <p>Tuesday and Wednesday departures are typically 10-15% cheaper than weekend flights. If your university allows flexible arrival dates, you could save significantly.</p>
                    </div>

                    <h3>2. Book at the Sweet Spot</h3>
                    <p>For international flights, the sweet spot for booking is typically 2-8 months in advance. However, this varies by destination:</p>
                    <ul>
                        <li><strong>Europe:</strong> 2-3 months ahead</li>
                        <li><strong>North America:</strong> 3-4 months ahead</li>
                        <li><strong>Asia/Oceania:</strong> 4-6 months ahead</li>
                    </ul>

                    <p>Continue reading for accommodation hacks, daily living tips, and more money-saving strategies...</p>
                `,
  },
};

// Sample comments
const sampleComments = [
  {
    author: "Adebola Johnson",
    date: "2 days ago",
    content:
      "This is incredibly helpful! I've been struggling with my visa application and this gave me so much clarity. Thank you for sharing these insights.",
  },
  {
    author: "Michael Chen",
    date: "1 week ago",
    content:
      "Thanks for sharing this information. As someone planning to study abroad next year, these insights are invaluable. Keep up the great work!",
  },
];

// Enhanced Intersection Observer for faster animations
const observerOptions = {
  threshold: 0.05,
  rootMargin: "50px 0px -20px 0px",
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach((entry) => {
    if (entry.isIntersecting) {
      entry.target.classList.add("animate");
    }
  });
}, observerOptions);

// Observe all animated elements
document.querySelectorAll(".fade-in-up, .scale-in").forEach((el) => {
  observer.observe(el);
});

// Get post ID from URL
const urlParams = new URLSearchParams(window.location.search);
const postId = urlParams.get("id") || "1";

// Load post content
function loadPost(id) {
  const post = blogPosts[id] || blogPosts["1"];

  document.getElementById(
    "pageTitle"
  ).textContent = `${post.title} - Mojo Explorer`;
  document.getElementById("breadcrumbTitle").textContent =
    post.title.substring(0, 40) + "...";
  document.getElementById("postCategory").textContent = post.category;
  document.getElementById("postTitle").textContent = post.title;
  document.getElementById("postDate").textContent = post.date;
  document.getElementById("readTime").textContent = post.readTime;
  document.getElementById("postImage").src = post.image;
  document.getElementById("postImage").alt = post.title;
  document.getElementById("postBody").innerHTML = post.content;
}

// Load related posts
function loadRelatedPosts(currentId) {
  const relatedContainer = document.getElementById("relatedPosts");
  let relatedHTML = "";

  const postIds = Object.keys(blogPosts).filter((id) => id !== currentId);
  const shuffledIds = postIds.sort(() => 0.5 - Math.random()).slice(0, 2);

  shuffledIds.forEach((id) => {
    const post = blogPosts[id];
    relatedHTML += `
                    <div class="related-post scale-in">
                        <img src="${post.image}" alt="${post.title}" loading="lazy">
                        <div class="related-post-content">
                            <h4><a href="post.html?id=${id}">${post.title}</a></h4>
                            <p>${post.date} â€¢ ${post.readTime}</p>
                        </div>
                    </div>
                `;
  });

  relatedContainer.innerHTML = relatedHTML;
}

// Load comments
function loadComments() {
  const commentsList = document.getElementById("commentsList");
  let commentsHTML = "";

  sampleComments.forEach((comment) => {
    commentsHTML += `
                    <li class="comment">
                        <div class="comment-header">
                            <div class="comment-author">${comment.author}</div>
                            <div class="comment-date">${comment.date}</div>
                        </div>
                        <div class="comment-content">${comment.content}</div>
                    </li>
                `;
  });

  commentsList.innerHTML = commentsHTML;
}

// Enhanced sticky navigation
let lastScrollTop = 0;
const header = document.getElementById("header");

window.addEventListener("scroll", () => {
  const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

  if (scrollTop > 100) {
    header.classList.add("sticky");
  } else {
    header.classList.remove("sticky");
  }

  // Hide/show header on scroll
  if (scrollTop > lastScrollTop && scrollTop > 300) {
    header.style.transform = "translateY(-100%)";
  } else {
    header.style.transform = "translateY(0)";
  }

  lastScrollTop = scrollTop;
});

// Enhanced comment form with validation
document.getElementById("commentForm").addEventListener("submit", function (e) {
  e.preventDefault();

  const name = document.getElementById("commentName").value.trim();
  const email = document.getElementById("commentEmail").value.trim();
  const comment = document.getElementById("commentMessage").value.trim();

  if (!name || !email || !comment) {
    showNotification("Please fill in all required fields.", "error");
    return;
  }

  if (!isValidEmail(email)) {
    showNotification("Please enter a valid email address.", "error");
    return;
  }

  // Simulate form submission
  const submitButton = this.querySelector('button[type="submit"]');
  const originalText = submitButton.textContent;

  submitButton.textContent = "Posting...";
  submitButton.disabled = true;

  setTimeout(() => {
    // Add new comment to the beginning of the list
    const newComment = {
      author: name,
      date: "Just now",
      content: comment,
    };

    sampleComments.unshift(newComment);
    loadComments();

    showNotification(
      "Thank you for your comment! It has been added to the discussion.",
      "success"
    );
    this.reset();
    submitButton.textContent = originalText;
    submitButton.disabled = false;
  }, 2000);
});

// Email validation function
function isValidEmail(email) {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
}

// Notification system
function showNotification(message, type) {
  const notification = document.createElement("div");
  notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                border-radius: 10px;
                color: white;
                font-weight: 500;
                z-index: 10000;
                transform: translateX(100%);
                transition: transform 0.3s ease;
                max-width: 400px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                backdrop-filter: blur(10px);
            `;

  if (type === "success") {
    notification.style.background =
      "linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)";
  } else {
    notification.style.background =
      "linear-gradient(135deg, #f093fb 0%, #f5576c 100%)";
  }

  notification.textContent = message;
  document.body.appendChild(notification);

  setTimeout(() => {
    notification.style.transform = "translateX(0)";
  }, 100);

  setTimeout(() => {
    notification.style.transform = "translateX(100%)";
    setTimeout(() => {
      document.body.removeChild(notification);
    }, 300);
  }, 4000);
}

// Mobile menu toggle
document.querySelector(".mobile-menu")?.addEventListener("click", function () {
  const navLinks = document.querySelector(".nav-links");
  navLinks.style.display = navLinks.style.display === "flex" ? "none" : "flex";
});

// Initialize page
document.addEventListener("DOMContentLoaded", function () {
  loadPost(postId);
  loadRelatedPosts(postId);
  loadComments();
});

// Smooth scroll for anchor links
document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
  anchor.addEventListener("click", function (e) {
    e.preventDefault();
    const target = document.querySelector(this.getAttribute("href"));
    if (target) {
      const headerHeight = document.querySelector("header").offsetHeight;
      const targetPosition = target.offsetTop - headerHeight;

      window.scrollTo({
        top: targetPosition,
        behavior: "smooth",
      });
    }
  });
});
